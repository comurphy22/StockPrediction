# Stock Prediction Project - Data Flow Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         DATA SOURCES                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   yfinance API   â”‚    â”‚    NewsAPI       â”‚    â”‚  Quiver Quant    â”‚
â”‚                  â”‚    â”‚                  â”‚    â”‚                  â”‚
â”‚  â€¢ Stock prices  â”‚    â”‚  â€¢ News articles â”‚    â”‚ â€¢ Congress tradesâ”‚
â”‚  â€¢ OHLCV data    â”‚    â”‚  â€¢ Headlines     â”‚    â”‚ â€¢ Buy/Sell data  â”‚
â”‚  â€¢ Free          â”‚    â”‚  â€¢ 100 req/day   â”‚    â”‚ â€¢ Full history   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â–¼                       â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      DATA LOADER (data_loader.py)                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  fetch_stock_data()          âœ… Operational                         â”‚
â”‚  â”œâ”€ Returns: DataFrame with Date, Open, High, Low, Close, Volume   â”‚
â”‚  â””â”€ Status: Always available                                        â”‚
â”‚                                                                      â”‚
â”‚  fetch_news_sentiment()      âœ… Operational (NEW!)                  â”‚
â”‚  â”œâ”€ Fetches news from NewsAPI                                       â”‚
â”‚  â”œâ”€ Calculates VADER sentiment (-1 to +1)                          â”‚
â”‚  â””â”€ Returns: DataFrame with date, headline, sentiment scores       â”‚
â”‚                                                                      â”‚
â”‚  fetch_politician_trades()   âœ… Operational (NEW!)                  â”‚
â”‚  â”œâ”€ Fetches congressional trades from Quiver                        â”‚
â”‚  â”œâ”€ Parses transaction types and amounts                           â”‚
â”‚  â””â”€ Returns: DataFrame with date, politician, type, amount         â”‚
â”‚                                                                      â”‚
â”‚  aggregate_daily_sentiment() âœ… Helper function                     â”‚
â”‚  â””â”€ Aggregates multiple articles per day                           â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                        â”‚                     â”‚
         â–¼                        â–¼                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              FEATURE ENGINEERING (feature_engineering.py)            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  create_features(stock_data, sentiment_data, politician_data)       â”‚
â”‚  â”‚                                                                   â”‚
â”‚  â”œâ”€ Technical Indicators:                                           â”‚
â”‚  â”‚  â€¢ SMA (10, 20, 50 day)                                         â”‚
â”‚  â”‚  â€¢ RSI (14 day)                                                 â”‚
â”‚  â”‚  â€¢ MACD (signal, diff)                                          â”‚
â”‚  â”‚  â€¢ Price/Volume changes                                         â”‚
â”‚  â”‚  â€¢ High-Low spread                                              â”‚
â”‚  â”‚  â€¢ MA crossovers                                                â”‚
â”‚  â”‚                                                                   â”‚
â”‚  â”œâ”€ Sentiment Features (if provided):                               â”‚
â”‚  â”‚  â€¢ avg_sentiment_compound                                       â”‚
â”‚  â”‚  â€¢ avg_sentiment_positive                                       â”‚
â”‚  â”‚  â€¢ avg_sentiment_negative                                       â”‚
â”‚  â”‚  â€¢ news_count                                                   â”‚
â”‚  â”‚                                                                   â”‚
â”‚  â”œâ”€ Politician Features (if provided):                              â”‚
â”‚  â”‚  â€¢ politician_buy_count                                         â”‚
â”‚  â”‚  â€¢ politician_trade_amount                                      â”‚
â”‚  â”‚                                                                   â”‚
â”‚  â””â”€ Target Variable:                                                â”‚
â”‚     â€¢ 1 if next day close > today (UP)                             â”‚
â”‚     â€¢ 0 if next day close â‰¤ today (DOWN)                           â”‚
â”‚                                                                      â”‚
â”‚  Returns: X (features), y (target), dates                          â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PREPROCESSING                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  handle_missing_values(X)                                           â”‚
â”‚  â”œâ”€ Strategy: drop, forward fill, or mean imputation               â”‚
â”‚  â””â”€ Returns: Clean DataFrame                                        â”‚
â”‚                                                                      â”‚
â”‚  Time-Series Split                                                  â”‚
â”‚  â”œâ”€ Training: First 80% of data                                    â”‚
â”‚  â””â”€ Testing: Last 20% of data                                      â”‚
â”‚                                                                      â”‚
â”‚  Feature Scaling (StandardScaler)                                   â”‚
â”‚  â”œâ”€ Fit on training data only                                      â”‚
â”‚  â””â”€ Transform both train and test                                  â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    MACHINE LEARNING (model.py)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  train_model(X_train, y_train)                                     â”‚
â”‚  â”‚                                                                   â”‚
â”‚  â”œâ”€ Random Forest Classifier                                        â”‚
â”‚  â”‚  â€¢ n_estimators: 100                                            â”‚
â”‚  â”‚  â€¢ max_depth: 10                                                â”‚
â”‚  â”‚  â€¢ Feature importance analysis                                  â”‚
â”‚  â”‚                                                                   â”‚
â”‚  â””â”€ Logistic Regression                                             â”‚
â”‚     â€¢ max_iter: 1000                                                â”‚
â”‚     â€¢ Baseline comparison                                           â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    EVALUATION & BACKTESTING                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  evaluate_model(model, X_test, y_test)                             â”‚
â”‚  â”‚                                                                   â”‚
â”‚  â”œâ”€ Metrics:                                                        â”‚
â”‚  â”‚  â€¢ Accuracy                                                      â”‚
â”‚  â”‚  â€¢ Precision / Recall                                           â”‚
â”‚  â”‚  â€¢ F1 Score                                                     â”‚
â”‚  â”‚  â€¢ ROC-AUC                                                      â”‚
â”‚  â”‚  â€¢ Confusion Matrix                                             â”‚
â”‚  â”‚                                                                   â”‚
â”‚  â””â”€ Feature Importance Ranking                                      â”‚
â”‚                                                                      â”‚
â”‚  backtest_strategy(model, X_test, y_test, prices)                  â”‚
â”‚  â”‚                                                                   â”‚
â”‚  â””â”€ Returns:                                                        â”‚
â”‚     â€¢ Total return                                                  â”‚
â”‚     â€¢ Win rate                                                      â”‚
â”‚     â€¢ Number of trades                                              â”‚
â”‚     â€¢ Comparison vs buy-and-hold                                   â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         RESULTS & INSIGHTS                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  Expected Performance:                                              â”‚
â”‚  â”œâ”€ Technical only:      52-58% accuracy                           â”‚
â”‚  â”œâ”€ + News sentiment:    55-62% accuracy (+3-7%)                   â”‚
â”‚  â”œâ”€ + Politician trades: 54-60% accuracy (+2-5%)                   â”‚
â”‚  â””â”€ Combined:            57-65% accuracy (+5-12%)                  â”‚
â”‚                                                                      â”‚
â”‚  Key Questions Answered:                                            â”‚
â”‚  âœ… Do technical indicators predict direction?                      â”‚
â”‚  âœ… Does news sentiment add value?                                  â”‚
â”‚  âœ… Do politician trades signal future moves?                       â”‚
â”‚  âœ… Which features matter most?                                     â”‚
â”‚  â³ Is it economically viable? (add transaction costs)              â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                    FEATURE SUMMARY BY TYPE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Š TECHNICAL INDICATORS (Always Available)
â”œâ”€ SMA_10, SMA_20, SMA_50           â†’ Trend following
â”œâ”€ RSI                               â†’ Overbought/oversold
â”œâ”€ MACD, MACD_signal, MACD_diff     â†’ Momentum
â”œâ”€ Price_change, Volume_change       â†’ Recent activity
â”œâ”€ HL_spread                         â†’ Volatility
â””â”€ SMA crossovers (10/20, 20/50)    â†’ Trend changes

ğŸ“° NEWS SENTIMENT (NEW - Operational)
â”œâ”€ avg_sentiment_compound            â†’ Overall sentiment (-1 to +1)
â”œâ”€ avg_sentiment_positive            â†’ Positive news ratio
â”œâ”€ avg_sentiment_negative            â†’ Negative news ratio
â””â”€ news_count                        â†’ Media attention

ğŸ›ï¸ POLITICIAN TRADING (NEW - Operational)
â”œâ”€ politician_buy_count              â†’ Number of purchases
â””â”€ politician_trade_amount           â†’ Total trade value

ğŸ¯ TARGET
â””â”€ Binary: 1 = Price UP, 0 = Price DOWN (next day)


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                         API STATUS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… yfinance           : Operational, Free, Unlimited
âœ… NewsAPI            : Operational, 100 requests/day (free tier)
âœ… Quiver Quantitative: Operational, Full access
âœ… VADER Sentiment    : Operational, Built-in NLTK


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                      SECURITY & CONFIGURATION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ” API Keys stored in: src/config.py
ğŸš« Added to .gitignore: Will NOT be committed
âœ… Test suite passing: tests/test_api_integration.py
ğŸ“– Documentation: API_INTEGRATION_COMPLETE.md


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                         READY TO USE!
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Run: python examples/quick_example.py
Test: python tests/test_api_integration.py
Train: python src/model.py (or use notebooks)

```
